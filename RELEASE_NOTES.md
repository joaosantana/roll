Fixed several bugs and updated the grammar
